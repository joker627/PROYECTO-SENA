{% extends "base/base.html" %}

{% block title %}Dashboard - Estadísticas{% endblock %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">

{% block content %}
{% include "components/slider.html" %}
<main>
<div class="dashboard-container">
    <!-- Header -->
    <div class="dashboard-header">
        <div>
            <h1>Dashboard</h1>
            <div class="muted">Estadísticas generales del sistema</div>
        </div>
        <div class="header-actions">
            <div class="last-update">
                <i class="fas fa-sync-alt"></i>
                Actualizado: {{ stats.fecha_actualizacion.strftime('%H:%M') if stats else 'N/A' }}
            </div>
        </div>
    </div>

    <!-- Tarjetas de Estadísticas -->
    <div class="stats-grid">
        <!-- Total Traducciones -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-language"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_traducciones|default(0) }}</h3>
                <p>Total Traducciones</p>
            </div>
            <div class="stat-trend">
                <i class="fas fa-arrow-up trend-up"></i>
            </div>
        </div>

        <!-- Contribuciones Totales -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-hands"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.total_contribuciones|default(0) }}</h3>
                <p>Contribuciones Totales</p>
            </div>
        </div>

        <!-- Contribuciones Pendientes -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-info">
                <h3 class="text-warning">{{ stats.contribuciones_pendientes|default(0) }}</h3>
                <p>Pendientes de Revisión</p>
            </div>
        </div>

        <!-- Contribuciones Aprobadas -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
                <h3 class="text-success">{{ stats.contribuciones_aprobadas|default(0) }}</h3>
                <p>Contribuciones Aprobadas</p>
            </div>
        </div>

        <!-- Señas Oficiales -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-book"></i>
            </div>
            <div class="stat-info">
                <h3>{{ stats.senas_oficiales|default(0) }}</h3>
                <p>Señas en Repositorio</p>
            </div>
        </div>

        <!-- Precisión del Modelo -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-brain"></i>
            </div>
            <div class="stat-info">
                <h3 class="text-info">{{ "%.1f"|format(stats.precision_modelo|default(0)) }}%</h3>
                <p>Precisión del Modelo IA</p>
            </div>
            <div class="stat-trend">
                {% if stats.precision_modelo and stats.precision_modelo > 85 %}
                    <i class="fas fa-arrow-up trend-up"></i>
                {% else %}
                    <i class="fas fa-arrow-down trend-down"></i>
                {% endif %}
            </div>
        </div>

        <!-- Reportes Activos -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-flag"></i>
            </div>
            <div class="stat-info">
                <h3 class="text-danger">{{ stats.reportes_activos|default(0) }}</h3>
                <p>Reportes Activos</p>
            </div>
        </div>
    </div>

    <!-- Sección de Acciones Rápidas -->
    <div class="quick-actions">
        <h2>Acciones Rápidas</h2>
        <div class="actions-grid">
            <a href="{{ url_for('web_admin.contribuciones') }}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="action-info">
                    <h3>Revisar Contribuciones</h3>
                    <p>{{ stats.contribuciones_pendientes|default(0) }} pendientes</p>
                </div>
                <div class="action-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </a>

            <a href="{{ url_for('web_admin.reportes') }}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-flag"></i>
                </div>
                <div class="action-info">
                    <h3>Ver Reportes</h3>
                    <p>{{ stats.reportes_activos|default(0) }} activos</p>
                </div>
                <div class="action-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </a>

            <a href="{{ url_for('web_admin.admin_usuarios') }}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="action-info">
                    <h3>Gestionar Usuarios</h3>
                    <p>Administrar colaboradores</p>
                </div>
                <div class="action-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </a>
        </div>
    </div>
</div>
</main>
{% endblock %}

